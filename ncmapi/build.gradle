plugins {
    id 'java'
    id 'maven'
}

group 'site.littlehands.ncmapi'
version '1.0'

sourceCompatibility = 1.8

dependencies {
    compile group: 'com.squareup.okhttp3', name: 'okhttp', version: '3.12.3'
    compile group: 'org.json', name: 'json', version: '20180813'
    compile group: 'commons-codec', name: 'commons-codec', version: '1.12'
}

task createPom {
    pom {}.writeTo("${libsDir}/${project.name}-${version}.pom")
}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

tasks.withType(Javadoc) {
    options.addStringOption('Xdoclint:none', '-quiet')
    options.addStringOption('encoding', 'UTF-8')
    options.addStringOption('charSet', 'UTF-8')
}

artifacts {
    archives sourcesJar
    archives javadocJar
}
